# üìä Personal Data Lake

> **Self-hosted –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**

![Data Lake Dashboard](https://img.shields.io/badge/Status-Production%20Ready-success)

+ üìä **–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π** —Å–≤–æ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∫—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥—ã
+ üîÑ **–°–æ–±–∏—Ä–∞–π** –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ WakaTime, Google Fit, Google Calendar –∏ ActivityWatch
+ üíæ **–•—Ä–∞–Ω–∏** –≤—Å—ë –ª–æ–∫–∞–ª—å–Ω–æ –≤ PostgreSQL - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
+ üöÄ **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π** —Ç—Ä–µ–Ω–¥—ã –ø–æ –¥–Ω—è–º, –º–µ—Å—è—Ü–∞–º –∏ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è

[![Go Version](https://img.shields.io/badge/Go-1.23+-00ADD8?style=flat&logo=go)](https://golang.org)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-336791?style=flat&logo=postgresql)](https://postgresql.org)
[![Docker](https://img.shields.io/badge/Docker-ready-2496ED?style=flat&logo=docker)](https://docker.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

**Data Lake** - —ç—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ PostgreSQL –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π REST API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

- üíª **WakaTime** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—Ä–µ–º—è, —è–∑—ã–∫–∏, –ø—Ä–æ–µ–∫—Ç—ã, —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã)
- üèÉ **Google Fit** - –¥–∞–Ω–Ω—ã–µ –æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—à–∞–≥–∏, –¥–∏—Å—Ç–∞–Ω—Ü–∏—è)
- üìÖ **Google Calendar** - —Å–æ–±—ã—Ç–∏—è –∏ –≤—Å—Ç—Ä–µ—á–∏ –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- üñ•Ô∏è **ActivityWatch** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚ú® **Self-hosted** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —É —Ç–µ–±—è, –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç –±–µ–∑ —É—á–∞—Å—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - API Key –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, OAuth2 –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üìä **REST API** - —É–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- üê≥ **Docker** - –∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Prometheus + Grafana –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–µ—Ç—Ä–∏–∫

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone https://github.com/Narotan/Personal-Data-Lake.git
cd data-lake
make setup    # –°–æ–∑–¥–∞—Ç—å .env
make start    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
```

**üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [QUICKSTART.md](QUICKSTART.md)

**üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [API.md](API.md)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Framework:** React 18 + TypeScript
- **Build Tool:** Vite
- **Styling:** TailwindCSS
- **Charts:** Recharts
- **Animations:** Framer Motion
- **Icons:** Lucide React
- **Date Utils:** date-fns

### Backend
- **–Ø–∑—ã–∫:** Go 1.23+
- **Framework:** net/http (stdlib)
- **Database ORM:** SQLC (type-safe SQL)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** zerolog
- **Metrics:** Prometheus client

### Database
- **–°–£–ë–î:** PostgreSQL 15+
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** SQL files in `db/migrations/`
- **–°—Ö–µ–º—ã:** `db/schema/` (wakatime, googlefit, googlecalendar, activitywatch)
- **Queries:** `db/queries/` (SQLC generated code)

### API
- **REST API:** `/api/v1/*`
- **Authentication:** API Key (X-API-Key header)
- **OAuth2 Integrations:** WakaTime, Google (Fit + Calendar)
- **Data Endpoints:**
  - `/api/v1/wakatime/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
  - `/api/v1/wakatime/top-languages` - —Ç–æ–ø —è–∑—ã–∫–æ–≤
  - `/api/v1/wakatime/top-projects` - —Ç–æ–ø –ø—Ä–æ–µ–∫—Ç–æ–≤
  - `/api/v1/googlefit/stats` - —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  - `/api/v1/googlecalendar/events` - —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
  - `/api/v1/activitywatch/stats` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –ü–ö
  - `/api/v1/auth/status` - —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### Infrastructure
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker, Docker Compose
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Prometheus, Grafana, Loki, Promtail
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:** Custom cron-based scheduler (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω)
- **ActivityWatch Client:** Go-based polling client

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ backend –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Docker
make start

# –ó–∞–ø—É—Å–∫ frontend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd web
npm install
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: **http://localhost:5173**

### ActivityWatch –∫–ª–∏–µ–Ω—Ç

–î–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å ActivityWatch (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ):

```bash
# –°–æ–±—Ä–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
./scripts/build_aw_client.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é (—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 –º–∏–Ω—É—Ç)
./bin/aw-client -minutes 60 -api-key "–≤–∞—à_api_key"

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å (Linux)
./scripts/install_service.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status aw-client@$USER.timer

# –õ–æ–≥–∏
journalctl -u aw-client@$USER.service -f
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Setup** —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. –ù–∞–∂–º–∏—Ç–µ **Connect** –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ OAuth2
4. –î–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
make logs          # –õ–æ–≥–∏ backend
make logs-all      # –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make stop          # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
make restart       # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make clean         # –£–¥–∞–ª–∏—Ç—å –≤—Å—ë –≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ
```

---

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Web Dashboard

### –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- **KPI –∫–∞—Ä—Ç–æ—á–∫–∏** - Coding Time, Steps, Meetings, PC Active Time
- **–ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - –ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ì—Ä–∞—Ñ–∏–∫ –∑–¥–æ—Ä–æ–≤—å—è** - —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ —à–∞–≥–æ–≤ —Å —Ü–µ–ª—å—é 10k
- **–¢–æ–ø —è–∑—ã–∫–æ–≤** - –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- **–¢–æ–ø –ø—Ä–æ–µ–∫—Ç–æ–≤** - –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º
- **–¢–æ–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** - timeline —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è

### –ü–µ—Ä–∏–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞
- Today / Yesterday
- 7 Days / 30 Days
- Month / Year
- All Time
- Custom Range (–≤—ã–±–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è
- **–ü–µ—Ä–∏–æ–¥ ‚â§ 90 –¥–Ω–µ–π** - –¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ü–µ—Ä–∏–æ–¥ > 90 –¥–Ω–µ–π** - –º–µ—Å—è—á–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è (Year, All Time)

---

## üéØ Roadmap

- [x] **Web Frontend** - React-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ ‚úÖ
- [x] **ActivityWatch Integration** - —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚úÖ
- [x] **Time Range Selection** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º ‚úÖ
- [x] **Monthly Aggregation** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ ‚úÖ
- [ ] **Data Export** - —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV, JSON, Excel
- [ ] **Telegram Bot** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∏–Ω—Å–∞–π—Ç—ã
- [ ] **AI Analytics** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- [ ] **Mobile App** - –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] **More Integrations** - GitHub, Spotify, Toggl 


---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

## ü§ù Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**Narotan** - [@Narotan](https://github.com/Narotan)

---

## üì∏ Screenshots

### Dashboard Overview
–ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å KPI –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

### Setup Page
–ü—Ä–æ—Å—Ç–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ OAuth2.

### Time Range Filters
–ì–∏–±–∫–∏–π –≤—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –∞–Ω–∞–ª–∏–∑–∞ - –æ—Ç –æ–¥–Ω–æ–≥–æ –¥–Ω—è –¥–æ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.



